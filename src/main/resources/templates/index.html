<!doctype html>
<html>

<head>
    <title></title>
    <link rel="icon" type="image/x-icon" href="/static/images/favicon.ico">
    <script src="/static/js/eventsource.min.js"></script>
</head>

<body>
    <!--<h1>A Java SAML Toolkit by OneLogin demo</h1>
    <a href="/saml/doLogin" class="btn btn-primary">Login with sso</a>
    </div>-->
    
    
    <script>
    
    //const clientId = (Math.random() + 1).toString(36).substring(2);
    
    /*function initialize(clientId) {
        
        let eventSource = new EventSourcePolyfill('/api/v1/sse/evaluation/' + clientId, {
          headers: {
            'heartbeatTimeout': 360000,
            'Authorization': 'bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJyb2xlSWQiOjYsInJvbGVOYW1lIjoiUk9MRV9TVVBFUl9BRE1JTiIsImV4cCI6MTY0NzgzNzc1MCwidXNlcklkIjoxLCJlbWFpbCI6InN1cGVyYWRtaW5AaW5zcGlyZXUuY29tIn0.1TWuEFU5gx2R9l-shhHQsS7MzXMlnMmMRMFccI-Q9vc' 
            },
            heartbeatTimeout: 360000,
        });
        
        let open = (e) => {
            console.log("open")
            console.log(e)
        }
        eventSource.addEventListener("open", open);
        
        let message = (e) => {
            console.log("message")
            console.log(e)
            try {
                const data = JSON.parse(e.data);
                console.log(data);
            } catch (err) {
                console.log("heartbeat");
            }
        }
        eventSource.addEventListener("message", message);
        
        
        let error = (e) => {
            console.log("error")
            console.log(e)
            
            eventSource.removeEventListener("open", open); 
            eventSource.removeEventListener("message", message); 
            eventSource.removeEventListener("error", error); 
            eventSource.close();
            eventSource = {}, open = () => {}, message = () => {}, error = () => {};
            
            setTimeout(() => {
                initialize((Math.random() + 1).toString(36).substring(2));
            }, 1000);
            
        }
        eventSource.addEventListener("error", error);
        
                
    }
    
    window.onload = () => {
        initialize((Math.random() + 1).toString(36).substring(2));
    };
    
    console.log(EventSourcePolyfill)
    
    
    const source = new EventSourcePolyfill('/api/v1/sse/evaluation', {
      headers: {
        'Authorization': 'bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJyb2xlSWQiOjYsInJvbGVOYW1lIjoiUk9MRV9TVVBFUl9BRE1JTiIsImV4cCI6MTY0NzgzNzc1MCwidXNlcklkIjoxLCJlbWFpbCI6InN1cGVyYWRtaW5AaW5zcGlyZXUuY29tIn0.1TWuEFU5gx2R9l-shhHQsS7MzXMlnMmMRMFccI-Q9vc' }
    });
    
    source.onopen = function() {
       console.log('connection to stream has been opened');
    };
    
    source.onerror = function (error) {
      console.log(error);
    };
    
    source.onmessage = function (stream) {
      console.log(stream);
    };*/


    </script>
</body>

</html>








<!--<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<link rel="icon" type="image/x-icon" href="/static/images/favicon.ico">
	<link rel="stylesheet" href="/static/css/style.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>
	<h2>Index page </h2>
	<p>Resize the browser window to see the responsive effect. When the screen is less than 650px wide, make the two
		columns stack on top of each other instead of next to each other.</p>

	<div class="container">
		<form action="/action_page.php">
			<div class="row">
				<h2 style="text-align:center">Login with Social Media or Manually</h2>
				<div class="vl">
					<span class="vl-innertext">or</span>
				</div>

				<div class="col">
					<a href="#" class="fb btn">
						<i class="fa fa-facebook fa-fw"></i> Login with Facebook
					</a>
					<a href="#" class="twitter btn">
						<i class="fa fa-twitter fa-fw"></i> Login with Twitter
					</a>
					<a href="#" class="google btn"><i class="fa fa-google fa-fw">
						</i> Login with Google+
					</a>
				</div>

				<div class="col">
					<div class="hide-md-lg">
						<p>Or sign in manually:</p>
					</div>

					<input type="text" name="username" placeholder="Username" required>
					<input type="password" name="password" placeholder="Password" required>
					<input type="submit" value="Login">
				</div>

			</div>
		</form>
	</div>

	<div class="bottom-container">
		<div class="row">
			<div class="col">
				<a href="#" style="color:white" class="btn">Sign up</a>
			</div>
			<div class="col">
				<a href="#" style="color:white" class="btn">Forgot password?</a>
			</div>
		</div>
	</div>
</body>

</html>-->